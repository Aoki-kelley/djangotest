<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register</title>
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js" type="text/javascript">
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
          crossorigin="anonymous">
    <style>
        p {
            text-align: center;
            margin: 0;
        }
    </style>
</head>
<body>
<p style="text-align:right">
    <a href="/user/login/">登录</a>
    <a href="/">返回主页</a>
</p>
<form method="post" id="register_form" name="UserReg" action="/user/register&{{ role }}/">
    {% csrf_token %}
    <p>
        用户名<input name="username" type="text"><br/>
        密码<input name="password" type="password"><br/>
        再次输入密码<input name="p_again" type="password"><br/>
        邮箱<input name="email" type="email"><br/>
        验证码{{ form.captcha }}<span>{{ form.captcha.errors }}</span><br>
        <button type="submit">确定</button>
    </p>
</form>
{% if role == 'seller' %}
    <p style="text-align:center ">
        <a href="/user/register&buyer/">或者作为买家注册</a>
    </p>
{% elif role == 'buyer' %}
    <p style="text-align:center ">
        <a href="/user/register&seller/">或者注册成为商家</a>
    </p>
{% endif %}
<br/>
<p style="text-align: center;color: darkgrey">
    提示：用户名由字母与数字组成，可以包括短横线，长度最大为八。
    <br/>
    密码由字母与数字组成，可以包括短横线，最短为六。
    <br/>
    不同买家或卖家的邮箱不能相同。
</p>
{% if name_exist %}
    <script language="javascript" type="text/javascript">
        alert("用户名已存在");
    </script>
{% elif p_not_same %}
    <script language="javascript" type="text/javascript">
        alert("两次输入的密码不一致");
    </script>
{% elif error %}
    <script language="javascript" type="text/javascript">
        alert("请检查用户名、密码、邮箱和验证码");
    </script>
{% elif email_exist %}
    <script language="javascript" type="text/javascript">
        alert("邮箱已被使用");
    </script>
{% endif %}
</body>
</html>